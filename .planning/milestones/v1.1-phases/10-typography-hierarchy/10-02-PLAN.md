---
phase: 10-typography-hierarchy
plan: 02
type: execute
wave: 2
depends_on: [10-01]
files_modified:
  - css/main.css
autonomous: false
requirements: [TYPO-01, TYPO-03]

must_haves:
  truths:
    - "Headings scale down appropriately on mobile (320px-768px) — readable but not overwhelming"
    - "Body text remains readable on mobile without pinch-zooming"
    - "Visual hierarchy (h1 > h2 > h3 > body) is maintained at mobile viewports"
    - "Typography looks professional and clean at all viewports (320px, 768px, 1024px, 1920px)"
  artifacts:
    - path: "css/main.css"
      provides: "Responsive font-size token overrides at mobile breakpoint"
      contains: "@media"
  key_links:
    - from: "css/main.css :root (desktop tokens)"
      to: "css/main.css @media (mobile overrides)"
      via: "Token redefinition at 768px breakpoint"
      pattern: "--font-size-.+:"
---

<objective>
Implement responsive typography scaling so headings and text scale appropriately for mobile viewports, then verify the complete typography system visually.

Purpose: Ensure typography is readable and maintains clear hierarchy on mobile screens (320px-768px) while looking polished on desktop (1024px-1920px). Complete the consulting-firm typographic polish.

Output: Responsive token overrides in CSS, human-verified typography quality across all viewports.
</objective>

<execution_context>
@/home/xhiris/.claude/get-shit-done/workflows/execute-plan.md
@/home/xhiris/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/10-typography-hierarchy/10-CONTEXT.md
@.planning/phases/10-typography-hierarchy/10-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Implement responsive typography scaling and consolidate mobile font-size overrides</name>
  <files>css/main.css</files>
  <action>
Implement responsive typography by redefining font-size tokens at the mobile breakpoint, then consolidate page-specific mobile font-size overrides.

**Step 1: Add token-level responsive scaling.**
Inside the existing `@media (max-width: 768px)` block (around line 2868), add :root overrides that scale down the larger font-size tokens for mobile. The approach: redefine token VALUES at the breakpoint rather than overriding individual selectors. This is cleaner and ensures ALL uses of a token scale together.

Recommended mobile token scale (stepped approach matching existing CSS architecture):
```css
@media (max-width: 768px) {
    :root {
        --font-size-5xl: 3rem;    /* 5rem -> 3rem (hero title) */
        --font-size-4xl: 2.25rem; /* 3.5rem -> 2.25rem (page h1) */
        --font-size-3xl: 1.75rem; /* 2.25rem -> 1.75rem (section h2) */
        --font-size-2xl: 1.5rem;  /* 1.875rem -> 1.5rem */
        --font-size-xl: 1.25rem;  /* 1.5rem -> 1.25rem (subsection h3) */
        --font-size-lg: 1.125rem; /* 1.25rem -> 1.125rem */
        /* md, base, sm, xs stay the same — body text doesn't need to shrink */
    }
}
```

Claude's discretion on exact values — the above are starting suggestions. The key constraints:
- Clear hierarchy must be maintained: 5xl > 4xl > 3xl > 2xl > xl > lg > md > base > sm > xs
- No heading should be smaller than --font-size-base on mobile
- 5xl should NOT be overwhelmingly large on a 320px screen (max ~3rem)
- Body text (base: 1rem = 16px) stays the same — already appropriate for mobile

**Step 2: Consolidate redundant page-specific mobile font-size overrides.**
The existing mobile breakpoint (lines ~2982-3593) has many page-specific font-size overrides like:
```css
.page-index .hero h1 { font-size: var(--font-size-3xl); }
.page-philosophy .hero-minimal h1 { font-size: var(--font-size-3xl); }
.page-faq .hero-minimal h1 { font-size: var(--font-size-3xl); }
```

After token-level scaling is in place, many of these overrides become UNNECESSARY because the tokens themselves now have mobile-appropriate values. Review each page-specific mobile font-size override:
- If the override simply maps a heading to a smaller token that now matches what the token-level scaling produces, REMOVE it (the token redefinition handles it)
- If the override sets a font-size that DIFFERS from what the token-level scaling would produce (i.e., a genuinely different size for that specific context), KEEP it
- Document which overrides were removed and why in the commit message

**Step 3: Verify hierarchy at mobile viewport.**
Use Playwright to load each page type (index, interior, exhibit) at 320px and 768px widths. For each viewport:
- Capture computed font-size of h1, h2, h3, body text
- Verify h1 > h2 > h3 > body in computed size
- Verify no text is smaller than 12px (accessibility minimum)
- Verify headings are readable (not too large for screen width, not too small to distinguish from body)
  </action>
  <verify>
1. Run Playwright tests at 320px and 768px viewports to verify:
   - Computed font-sizes maintain h1 > h2 > h3 > body hierarchy
   - No text smaller than 12px
   - Hero headings don't overflow horizontally
2. `grep -c 'font-size:' css/main.css` in the mobile breakpoint section — count should be LOWER than before (consolidated overrides removed)
3. CSS parses without errors
  </verify>
  <done>
- Font-size tokens redefined at 768px breakpoint for responsive scaling
- Redundant page-specific mobile font-size overrides removed (consolidated into token-level scaling)
- Heading hierarchy verified at 320px and 768px viewports
- No text smaller than 12px on mobile
- Clean, maintainable responsive typography with token-level control
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 2: Visual verification of typography hierarchy</name>
  <files>css/main.css</files>
  <action>
Present the complete typography system for human visual verification. What was built across Plans 01 and 02:
- Consistent heading hierarchy (h1 > h2 > h3 > body) across all 19 pages
- Fixed semantic heading violations in exhibits J, K, L
- Normalized line-height, letter-spacing, and font-weight patterns
- Responsive font-size scaling via token-level mobile overrides
- Consolidated mobile font-size overrides (cleaner CSS)

Verification steps for the user:
1. Start local server: `npx http-server . -p 8080` (if not already running)
2. Check desktop (1920px) — open these pages and verify heading hierarchy looks clean and professional:
   - http://localhost:8080/index.html (hero h1 should be largest, section h2 clearly smaller, card h3 smaller still)
   - http://localhost:8080/portfolio.html (flagship section headings, card titles)
   - http://localhost:8080/exhibits/exhibit-j.html (was h1->h3, now should be h1->h2)
3. Check mobile (320px via DevTools) — same pages:
   - Headings should scale down but remain readable and hierarchically clear
   - Body text should be comfortable reading size
   - No horizontal overflow from large headings
4. Check at 768px (tablet) — verify intermediate scaling looks balanced
5. Overall: Does the typography feel "consulting-firm professional" — clean, readable, information-forward?

Resume signal: Type "approved" or describe issues to fix.
  </action>
  <verify>User confirms typography looks professional and hierarchy is clear at all viewports.</verify>
  <done>Human-verified typography quality across desktop and mobile viewports. Consulting-firm aesthetic confirmed.</done>
</task>

</tasks>

<verification>
1. Token-level responsive scaling in place — :root overrides at 768px breakpoint
2. Mobile font-size overrides consolidated — fewer page-specific overrides needed
3. Heading hierarchy maintained at all viewports — h1 > h2 > h3 > body
4. All text ≥ 12px on mobile viewports
5. Human visual approval of typography quality
</verification>

<success_criteria>
- Responsive typography scales cleanly from 320px to 1920px
- Heading hierarchy is visually clear at every viewport
- Typography has consulting-firm feel — clean, readable, professional
- Mobile headings are readable but not overwhelming
- CSS is cleaner (token-level scaling replaces per-page overrides)
</success_criteria>

<output>
After completion, create `.planning/phases/10-typography-hierarchy/10-02-SUMMARY.md`
</output>
