---
phase: 14-navigation-footer-consistency
plan: 02
type: execute
wave: 2
depends_on:
  - 14-01
files_modified:
  - index.html
  - philosophy.html
  - faq.html
  - technologies.html
  - portfolio.html
  - contact.html
  - testimonials.html
  - exhibits/exhibit-a.html
  - exhibits/exhibit-b.html
  - exhibits/exhibit-c.html
  - exhibits/exhibit-d.html
  - exhibits/exhibit-e.html
  - exhibits/exhibit-f.html
  - exhibits/exhibit-g.html
  - exhibits/exhibit-h.html
  - exhibits/exhibit-i.html
  - exhibits/exhibit-j.html
  - exhibits/exhibit-k.html
  - exhibits/exhibit-l.html
  - exhibits/exhibit-m.html
  - exhibits/exhibit-n.html
  - sitemap.xml
autonomous: true
requirements:
  - NAV-07

must_haves:
  truths:
    - "Zero broken internal links across all 21 site pages"
    - "Zero broken anchor links (#section-name) across all 21 site pages"
    - "External links (LinkedIn, GitHub, email) are valid and accessible"
    - "All internal links point to existing pages"
    - "Anchor links resolve to existing id attributes on the target page"
  artifacts:
    - path: "index.html"
      provides: "Verified internal links"
    - path: ".planning/phases/14-navigation-footer-consistency/14-02-LINK-AUDIT.md"
      provides: "Complete link audit report"
  key_links:
    - from: "all 21 HTML pages"
      to: "href attributes"
      via: "anchor and internal link validation"
      pattern: "href="
    - from: "anchor links (#)"
      to: "id attributes"
      via: "id existence verification"
      pattern: "id="
---

<objective>
Comprehensive link audit across all 21 site pages — verify every internal link, anchor link, and external link. Fix broken links with obvious corrections, and produce a report for any ambiguous cases.

Purpose: Ensures visitors never hit a dead end. After nav/footer changes in Plan 01, this validates all links work correctly and catches any pre-existing broken links or anchors.
Output: Zero broken internal/anchor links, verified external links, complete audit report.
</objective>

<execution_context>
@/home/xhiris/.claude/get-shit-done/workflows/execute-plan.md
@/home/xhiris/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/14-navigation-footer-consistency/14-CONTEXT.md
@.planning/phases/14-navigation-footer-consistency/14-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Crawl and audit all links across all 21 pages</name>
  <files>
    index.html
    philosophy.html
    faq.html
    technologies.html
    portfolio.html
    contact.html
    testimonials.html
    exhibits/exhibit-a.html
    exhibits/exhibit-b.html
    exhibits/exhibit-c.html
    exhibits/exhibit-d.html
    exhibits/exhibit-e.html
    exhibits/exhibit-f.html
    exhibits/exhibit-g.html
    exhibits/exhibit-h.html
    exhibits/exhibit-i.html
    exhibits/exhibit-j.html
    exhibits/exhibit-k.html
    exhibits/exhibit-l.html
    exhibits/exhibit-m.html
    exhibits/exhibit-n.html
  </files>
  <action>
Write a Node.js link audit script (temporary, delete after use) that processes all 21 site pages and categorizes every `href` attribute:

1. **Internal page links** (e.g., `/portfolio.html`, `/exhibits/exhibit-a.html`, `../index.html`):
   - Resolve relative paths to absolute file paths
   - Verify the target file exists on disk
   - Flag any links to non-existent pages as BROKEN

2. **Anchor links** (e.g., `#contact`, `#main-content`, `/philosophy.html#section-name`):
   - For same-page anchors (`#foo`): verify an element with `id="foo"` exists in the same file
   - For cross-page anchors (`/page.html#foo`): verify the page exists AND the id exists in that page
   - Flag any anchors pointing to non-existent ids as BROKEN

3. **External links** (e.g., `https://linkedin.com/...`, `https://github.com/...`, `mailto:...`):
   - Categorize: LinkedIn, GitHub, email (mailto:), Google Fonts, other
   - For LinkedIn and GitHub: verify URL format is valid (do not make HTTP requests to external sites)
   - For mailto: verify email format
   - Flag obviously malformed URLs

4. **CSS/JS resource links** (`<link href=...>`, `<script src=...>`, `<img src=...>`):
   - Verify referenced files exist on disk (CSS, JS, images)
   - Flag missing resources as BROKEN

5. **Output structured report** with categories:
   - BROKEN: Must fix (link to non-existent page/anchor/resource)
   - WARNING: Should review (external link format issues, unusual patterns)
   - OK: Valid links (count per category)

Format the report as markdown suitable for saving as `14-02-LINK-AUDIT.md`.

Delete the audit script after running it.
  </action>
  <verify>
Run the audit script. Verify it processes all 21 pages. Check the report has clear categories and actionable broken link entries.
  </verify>
  <done>
Complete link audit report generated covering all 21 pages. Every href, anchor, and resource link categorized as OK, WARNING, or BROKEN.
  </done>
</task>

<task type="auto">
  <name>Task 2: Fix broken links and produce final audit report</name>
  <files>
    index.html
    philosophy.html
    faq.html
    technologies.html
    portfolio.html
    contact.html
    testimonials.html
    exhibits/exhibit-a.html
    exhibits/exhibit-b.html
    exhibits/exhibit-c.html
    exhibits/exhibit-d.html
    exhibits/exhibit-e.html
    exhibits/exhibit-f.html
    exhibits/exhibit-g.html
    exhibits/exhibit-h.html
    exhibits/exhibit-i.html
    exhibits/exhibit-j.html
    exhibits/exhibit-k.html
    exhibits/exhibit-l.html
    exhibits/exhibit-m.html
    exhibits/exhibit-n.html
    sitemap.xml
    .planning/phases/14-navigation-footer-consistency/14-02-LINK-AUDIT.md
  </files>
  <action>
Based on the audit report from Task 1:

1. **Fix BROKEN links with obvious corrections:**
   - Wrong relative path (e.g., `../exhibits/...` should be `/exhibits/...`) -> fix to correct path
   - Missing anchor target -> add the id to the target element if it clearly should exist, OR update the link to point to the correct existing anchor
   - Broken cross-page anchor -> fix to point to correct section id
   - Missing file reference -> fix path or remove dead link

2. **Flag ambiguous cases** in the audit report:
   - Links where the intended target is unclear
   - External links that may be outdated but can't be verified without HTTP requests
   - Any link requiring user judgment

3. **Re-run the audit** after fixes to confirm zero BROKEN internal and anchor links.

4. **Save final audit report** to `.planning/phases/14-navigation-footer-consistency/14-02-LINK-AUDIT.md` with:
   - Summary: total links audited, broken found, fixed, remaining warnings
   - Broken links fixed (what was wrong, what was the fix)
   - Remaining warnings (if any) for user review
   - Complete link inventory per page

5. **Verify sitemap completeness** — ensure all 21 site pages are in sitemap.xml with correct URLs.

Delete any temporary scripts after use.
  </action>
  <verify>
Re-run the link audit script one final time. Confirm:
1. Zero BROKEN internal links
2. Zero BROKEN anchor links
3. Zero BROKEN resource references (CSS, JS, images)
4. All external links have valid URL format
5. Sitemap contains all 21 pages
6. Final audit report saved to phase directory
  </verify>
  <done>
Zero broken internal and anchor links across all 21 site pages. External links verified for format validity. Sitemap is complete. Final audit report saved with full inventory and any warnings flagged for user review.
  </done>
</task>

</tasks>

<verification>
1. Re-run link crawler — zero BROKEN results for internal and anchor links
2. All external links have valid URL format
3. All resource references (CSS, images, JS) resolve to existing files
4. Sitemap contains exactly the 21 site pages
5. Audit report saved to phase directory with complete inventory
</verification>

<success_criteria>
- Zero broken internal links across all 21 site pages
- Zero broken anchor links across all 21 site pages
- External links (LinkedIn, GitHub, email) verified for format
- Sitemap is complete and accurate
- Comprehensive audit report produced and saved
</success_criteria>

<output>
After completion, create `.planning/phases/14-navigation-footer-consistency/14-02-SUMMARY.md`
</output>
