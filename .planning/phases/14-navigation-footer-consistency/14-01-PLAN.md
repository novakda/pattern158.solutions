---
phase: 14-navigation-footer-consistency
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - index.html
  - philosophy.html
  - faq.html
  - technologies.html
  - portfolio.html
  - contact.html
  - testimonials.html
  - exhibits/exhibit-a.html
  - exhibits/exhibit-b.html
  - exhibits/exhibit-c.html
  - exhibits/exhibit-d.html
  - exhibits/exhibit-e.html
  - exhibits/exhibit-f.html
  - exhibits/exhibit-g.html
  - exhibits/exhibit-h.html
  - exhibits/exhibit-i.html
  - exhibits/exhibit-j.html
  - exhibits/exhibit-k.html
  - exhibits/exhibit-l.html
  - exhibits/exhibit-m.html
  - exhibits/exhibit-n.html
  - css/main.css
  - sitemap.xml
autonomous: true
requirements:
  - NAV-05
  - NAV-06

must_haves:
  truths:
    - "Navigation HTML is byte-identical across all 21 site pages (excluding aria-current attribute)"
    - "Footer HTML is byte-identical across all 21 site pages"
    - "Footer contains LinkedIn and GitHub social links"
    - "Footer contains trust elements (years experience, project count, location)"
    - "Active page has visible indicator in navigation on both desktop and mobile"
    - "Exhibit pages show parent nav item (Field Reports/Portfolio) as active"
  artifacts:
    - path: "index.html"
      provides: "Canonical nav and footer reference"
      contains: "linkedin.com"
    - path: "css/main.css"
      provides: "Active state CSS styling"
      contains: "aria-current"
  key_links:
    - from: "all 21 HTML pages"
      to: "nav ul#nav-menu"
      via: "identical nav-menu markup"
      pattern: "nav-menu"
    - from: "all 21 HTML pages"
      to: "footer#contact"
      via: "identical footer markup"
      pattern: "footer.*contact"
    - from: "css/main.css"
      to: "aria-current=page"
      via: "CSS attribute selector"
      pattern: "aria-current"
---

<objective>
Achieve 100% navigation and footer consistency across all 21 site pages. Audit current nav/footer variations, define an optimized canonical structure, apply it uniformly, and add active state indicators.

Purpose: Users currently may encounter inconsistent navigation or footer across pages. This plan makes the nav identical everywhere, optimizes the footer with social links and trust elements, and adds visual active-page indicators for orientation.
Output: All 21 pages with identical nav and footer HTML, CSS active state styling, updated sitemap if needed.
</objective>

<execution_context>
@/home/xhiris/.claude/get-shit-done/workflows/execute-plan.md
@/home/xhiris/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/14-navigation-footer-consistency/14-CONTEXT.md
@index.html
@css/main.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Audit nav/footer across all pages and define canonical structure</name>
  <files>
    index.html
    philosophy.html
    faq.html
    technologies.html
    portfolio.html
    contact.html
    testimonials.html
    exhibits/exhibit-a.html
    exhibits/exhibit-e.html
    exhibits/exhibit-m.html
    exhibits/exhibit-n.html
  </files>
  <action>
Write a Node.js audit script (temporary, delete after use) that:

1. **Extract nav HTML** from all 21 site pages (7 root: index, philosophy, faq, technologies, portfolio, contact, testimonials + 14 exhibits a-n). Exclude review.html (debug artifact, no nav). Extract the full `<nav>...</nav>` block from each page.

2. **Extract footer HTML** from all 21 pages. Extract the full `<footer id="contact">...</footer>` block.

3. **Compare and report differences.** For nav: strip `aria-current="page"` before comparison since that varies per page. Report which pages differ from the majority pattern. For footer: report any differences.

4. **Define the canonical nav structure.** The current nav order is: Home, Philosophy, FAQ, Technologies, Portfolio, Contact, Field Reports, [theme toggle]. Review this ordering — per user decision, optimize the grouping. Recommended canonical order (Claude's discretion): Home, Portfolio, Technologies, Philosophy, Field Reports, FAQ, Contact, [theme toggle]. Rationale: leads with work samples (Portfolio), then skills (Technologies), then methodology (Philosophy), then social proof (Field Reports), then informational (FAQ, Contact). However, if the current order is already well-established and SEO-indexed, keep it to avoid disruption.

5. **Define the optimized footer.** Current footer has: name, title, location, email, LinkedIn link, tagline. Optimize by adding:
   - GitHub link: `https://github.com/xhiris` (alongside LinkedIn)
   - Trust elements: "20+ years engineering experience" and "14 case studies" (or similar factual counts derived from the site content)
   - Keep the existing tagline "Pattern 158: I cheat, but I cheat fair."
   - LinkedIn URL: `https://linkedin.com/in/dan-novak-5692197` (existing)
   - Social links must be specifically LinkedIn + GitHub per user decision

6. **Output the canonical nav template** (without aria-current, to be added per-page) and **canonical footer template** as reference for Task 2.

Delete the audit script after running it.
  </action>
  <verify>
Run the audit script and confirm it produces a clear report of nav/footer differences across all 21 pages. Verify the canonical templates are well-defined. Script is deleted after use.
  </verify>
  <done>
Clear audit report showing current nav/footer state across all 21 pages. Canonical nav and footer templates defined. Any inconsistencies documented.
  </done>
</task>

<task type="auto">
  <name>Task 2: Apply canonical nav, footer, and active states to all 21 pages</name>
  <files>
    index.html
    philosophy.html
    faq.html
    technologies.html
    portfolio.html
    contact.html
    testimonials.html
    exhibits/exhibit-a.html
    exhibits/exhibit-b.html
    exhibits/exhibit-c.html
    exhibits/exhibit-d.html
    exhibits/exhibit-e.html
    exhibits/exhibit-f.html
    exhibits/exhibit-g.html
    exhibits/exhibit-h.html
    exhibits/exhibit-i.html
    exhibits/exhibit-j.html
    exhibits/exhibit-k.html
    exhibits/exhibit-l.html
    exhibits/exhibit-m.html
    exhibits/exhibit-n.html
    css/main.css
    sitemap.xml
  </files>
  <action>
Write a Node.js transformation script (temporary, delete after use) that:

1. **Replace nav on all 21 pages** with the canonical nav template from Task 1. For each page, set `aria-current="page"` on the matching nav link:
   - Root pages: match by href (e.g., `/portfolio.html` on portfolio.html)
   - Exhibit pages: set `aria-current="page"` on the "Field Reports" link (since exhibits are accessed via testimonials/field reports). This serves as parent highlighting per user decision (Claude's discretion).

2. **Replace footer on all 21 pages** with the canonical optimized footer template from Task 1. Footer must be identical across all pages.

3. **Add CSS active state styling** to `css/main.css`. Add rules for:
   - `[aria-current="page"]` selector: visual indicator (e.g., bottom border with `var(--color-primary)`, or increased font-weight). Must work in both light and dark modes.
   - Hover state differentiation: ensure hovered nav items look different from active items (active = solid indicator, hover = subtle background or underline).
   - Mobile active state: ensure the active indicator is visible in the mobile hamburger menu (e.g., left border or background highlight).
   - Use existing design tokens (--color-primary, --color-text, etc.) — do NOT introduce hardcoded colors.

4. **Update sitemap.xml** if the sitemap is missing any of the 21 site pages. Current sitemap has 21 entries. Verify all pages are present.

5. **Verify consistency** by re-running a quick comparison to confirm all nav blocks (minus aria-current) are identical and all footer blocks are identical.

Delete the transformation script after use.
  </action>
  <verify>
Write and run a verification script that:
1. Extracts nav HTML from all 21 pages, strips aria-current attributes, and confirms all are identical
2. Extracts footer HTML from all 21 pages and confirms all are identical
3. Confirms each page has exactly one aria-current="page" attribute on the correct nav link
4. Confirms footer contains both LinkedIn and GitHub links
5. Confirms CSS has [aria-current="page"] styling rule
6. `npm run build` or equivalent passes (if build step exists), otherwise open index.html and spot-check

Delete verification script after use.
  </verify>
  <done>
All 21 site pages have byte-identical nav (excluding aria-current) and footer. Each page's active nav link is correctly indicated via aria-current. Footer includes LinkedIn, GitHub, contact info, and trust elements. CSS provides visible active state styling in light/dark modes on desktop and mobile. Sitemap is current.
  </done>
</task>

</tasks>

<verification>
1. Extract nav from all 21 pages, strip aria-current — all must be identical
2. Extract footer from all 21 pages — all must be identical
3. Each page has aria-current="page" on exactly one nav link
4. Exhibit pages have aria-current on the appropriate parent nav item
5. Footer contains LinkedIn and GitHub links
6. CSS has [aria-current="page"] styling for desktop and mobile
7. Active state uses design tokens, not hardcoded colors
8. Sitemap contains all 21 site pages
</verification>

<success_criteria>
- Navigation HTML (excluding aria-current) is identical across all 21 site pages
- Footer HTML is identical across all 21 site pages
- Footer contains LinkedIn + GitHub social links and trust elements
- Active page indicated via aria-current with visible CSS styling
- All changes use existing design tokens
- No regressions in dark mode or mobile responsiveness
</success_criteria>

<output>
After completion, create `.planning/phases/14-navigation-footer-consistency/14-01-SUMMARY.md`
</output>
