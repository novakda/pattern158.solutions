---
phase: 10-typography-hierarchy
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - css/main.css
  - exhibits/exhibit-a.html
  - exhibits/exhibit-j.html
  - exhibits/exhibit-k.html
  - exhibits/exhibit-l.html
autonomous: true
requirements: [TYPO-01, TYPO-02]

must_haves:
  truths:
    - "Heading hierarchy never skips levels on any page (h1 -> h2 -> h3, no h1 -> h3)"
    - "h1 is visually largest, h2 clearly smaller, h3 clearly smaller than h2 on every page"
    - "All headings use font-size tokens exclusively (zero hardcoded values)"
    - "Line-height and letter-spacing are consistent across all pages for the same heading level"
  artifacts:
    - path: "css/main.css"
      provides: "Normalized heading typography with consistent token usage"
      contains: "var(--font-size-"
    - path: "exhibits/exhibit-j.html"
      provides: "Fixed heading hierarchy (h3 -> h2)"
      contains: "<h2"
    - path: "exhibits/exhibit-k.html"
      provides: "Fixed heading hierarchy (h3 -> h2)"
      contains: "<h2"
    - path: "exhibits/exhibit-l.html"
      provides: "Fixed heading hierarchy (h3 -> h2)"
      contains: "<h2"
  key_links:
    - from: "css/main.css"
      to: "all HTML files"
      via: "font-size token system in :root"
      pattern: "var\\(--font-size-"
---

<objective>
Audit and normalize typography hierarchy across all 19 pages to establish clear, consistent heading differentiation and fix semantic heading violations.

Purpose: Establish the consulting-firm typographic hierarchy where h1 > h2 > h3 > body size differentiation is immediately apparent, heading levels are semantically correct, and all typography properties are consistent for same contexts across pages.

Output: Normalized CSS heading styles, fixed HTML heading hierarchy in 3 exhibit pages, consistent line-height and letter-spacing usage.
</objective>

<execution_context>
@/home/xhiris/.claude/get-shit-done/workflows/execute-plan.md
@/home/xhiris/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/10-typography-hierarchy/10-CONTEXT.md
@.planning/phases/07-css-foundation-token-system-audit/07-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Fix semantic heading hierarchy violations in HTML</name>
  <files>
    exhibits/exhibit-a.html
    exhibits/exhibit-j.html
    exhibits/exhibit-k.html
    exhibits/exhibit-l.html
  </files>
  <action>
Fix heading hierarchy violations where heading levels are skipped (h1 -> h3 without h2).

**Exhibit J, K, L:** Each has `<h3>` elements as direct children under the h1 with no h2 parent section. Change these `<h3>` tags to `<h2>` since they represent top-level sections within the exhibit. Also update any CSS selectors that target these specific h3 elements to target h2 instead.

For exhibit-j.html: The `<h3>Key Technical Insights</h3>` at line 382 should become `<h2>`. Search the CSS for any selectors specifically targeting this h3 in the exhibit-j context and update.

For exhibit-k.html and exhibit-l.html: Same pattern — find the h3 elements that should be h2 (section-level headings directly under h1) and fix them.

For exhibit-a.html: This exhibit has only an h1 and no other headings. Verify this is correct — if there are sections that would benefit from h2 headings, note it but do NOT add headings (that's content, out of Phase 10 scope). Only fix if there are actual h3+ elements that skip h2.

**Verification approach:** After changes, run a heading hierarchy audit across all HTML files to confirm zero skipped levels remain.
  </action>
  <verify>
Run: `for f in *.html exhibits/*.html; do echo "=== $f ===" && grep -oP '<h[1-6][^>]*>' "$f" | sed 's/<\(h[1-6]\).*/\1/' | tr '\n' ' '; echo; done`

Confirm: No page shows h1 followed by h3 without an h2 in between. Every heading sequence is h1 -> h2 -> h3 (or h1 -> h2 or h1 only).
  </verify>
  <done>Zero heading hierarchy violations across all 19 pages. Every heading level follows its parent without skipping.</done>
</task>

<task type="auto">
  <name>Task 2: Normalize heading typography for consistent visual hierarchy</name>
  <files>css/main.css</files>
  <action>
Establish a clear, consistent typography system for headings across all pages. This is a CSS-only task.

**Step 1: Audit current heading font-size token usage.**
Search css/main.css for all font-size declarations on heading elements (h1, h2, h3, h4) and their page-scoped variants. Catalog which token each heading level uses in each context. Identify inconsistencies where the same heading level uses different tokens in similar contexts.

**Step 2: Define the standard heading scale.**
Based on the audit, establish a standard heading scale for the consulting-firm aesthetic:
- h1 (page title in hero): --font-size-4xl (3.5rem) — commanding but professional
- h1 (index hero only): --font-size-5xl (5rem) — homepage hero gets the biggest treatment
- h2 (section heading): --font-size-3xl (2.25rem) — clear section separation
- h3 (subsection/card title): --font-size-xl (1.5rem) — readable subsection marker
- h4 (if used): --font-size-lg (1.25rem) — subtle but distinct from body
- Body text: --font-size-base (1rem) — clean and readable at 16px

Claude's discretion: If the audit reveals that certain contexts genuinely need variation from this scale (e.g., stat numbers, hero subtitles, specialized card headings), preserve those as intentional exceptions. The goal is consistency for SAME CONTEXTS across pages, not rigid uniformity for all contexts.

**Step 3: Normalize line-height usage.**
Replace all hardcoded line-height values with the corresponding --line-height-* tokens. The body line-height `1.6` should become `var(--line-height-base)`. Other hardcoded line-heights (1.7, 1.8, etc.) should map to the closest token:
- 1.7 and 1.8 -> var(--line-height-base) (1.6) or keep as-is if the difference is meaningful for readability in that specific context (e.g., long-form body text paragraphs may benefit from 1.8 — use judgment).
- Heading line-heights (line-height: 1) -> var(--line-height-5xl) (1.1) for tight heading treatment.
- Each heading level should use its paired line-height token.

**Step 4: Normalize letter-spacing.**
Audit current letter-spacing values (0.5px, 1px, 1.5px, 2px). Standardize:
- All h1, h2, h3 headings (Bebas Neue font): `letter-spacing: 1px` (already set on base rule, verify page overrides don't deviate unless intentional)
- Large decorative text (stat numbers, hero h1): `letter-spacing: 2px` is fine as a deliberate decorative treatment
- Small text labels/meta: `letter-spacing: 0.5px` is fine for xs/sm text in label contexts
- Remove any letter-spacing that doesn't serve a clear purpose

**Step 5: Normalize font-weight patterns.**
Audit font-weight usage. Establish consistency:
- Headings (Bebas Neue): No font-weight needed (Bebas Neue only has 400)
- Body bold text: `font-weight: 600` as standard bold
- Light/thin text (subtitles, intros): `font-weight: 300` where used
- Eliminate inconsistencies where the same type of element (e.g., card titles) uses different weights on different pages

**Step 6: Apply changes.**
Make targeted CSS modifications to normalize the inconsistencies identified in Steps 1-5. Do NOT change file structure or layout — typography properties only (font-size, line-height, letter-spacing, font-weight).
  </action>
  <verify>
1. Run: `grep -n 'line-height:' css/main.css | grep -v 'var(--line-height'` — should show only structural exceptions (e.g., nav menu items) or intentional deviations documented in comments
2. Run: `grep -c 'var(--font-size-' css/main.css` — count should remain ≥192 (no regressions)
3. Run: `grep -n 'font-size:' css/main.css | grep -v 'var(--font-size' | grep -v '0.9em'` — should show zero results (no hardcoded font-sizes except the documented code block exception)
4. Visual spot-check: The heading scale should produce clear visual hierarchy: 5xl > 4xl > 3xl > xl > lg > base
  </verify>
  <done>
- Heading typography uses consistent tokens per level across all page contexts
- Line-heights use design tokens (hardcoded values eliminated or documented as exceptions)
- Letter-spacing standardized to 3 tiers (0.5px small, 1px headings, 2px decorative)
- Font-weight patterns consistent for same element types across pages
- Zero hardcoded font-size values (except 0.9em code block exception)
  </done>
</task>

</tasks>

<verification>
1. Heading hierarchy audit passes — zero skipped levels across all 19 pages
2. Font-size token usage maintained or increased — grep confirms zero hardcoded values
3. Line-height tokens used for all standard text — hardcoded values only in documented exceptions
4. Letter-spacing follows standard tiers — no random values
5. CSS parses without errors — no syntax issues introduced
</verification>

<success_criteria>
- h1 > h2 > h3 > body size differentiation immediately apparent from token values
- No heading level skips in any HTML file
- All typography properties (font-size, line-height, letter-spacing, font-weight) consistent for same contexts across pages
- Zero hardcoded font-size values remain in CSS (except 0.9em code block exception)
</success_criteria>

<output>
After completion, create `.planning/phases/10-typography-hierarchy/10-01-SUMMARY.md`
</output>
