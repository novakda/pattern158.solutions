---
phase: 16-phase12-remediation-verification
plan: 04
type: execute
wave: 1
depends_on: []
files_modified: [.archive/verify-contrast.mjs, .archive/verify-dark-surfaces.mjs, .archive/visual-audit.mjs, .archive/main.css.bak, .archive/screenshot-key-fact-issue.mjs, .gitignore]
autonomous: true
requirements: [CONTENT-05, CONTENT-06, CONTENT-07, CONTENT-08, CONTENT-09, CONTENT-10, CONTENT-11, CONTENT-12]
gap_closure: true

must_haves:
  truths:
    - "Debug/audit scripts archived to .archive/ folder (recovered from git, not lost)"
    - ".archive/ folder is committed to git and tracked"
    - ".gitignore excludes tool artifacts (test-results/, playwright-report/, node_modules/, lighthouse temp dirs)"
    - ".gitignore does NOT ignore .archive/ or .planning/"
    - "css/main.css.bak is archived to .archive/"
  artifacts:
    - path: ".archive/verify-contrast.mjs"
      provides: "Archived debug script recovered from git history"
    - path: ".archive/verify-dark-surfaces.mjs"
      provides: "Archived debug script recovered from git history"
    - path: ".archive/visual-audit.mjs"
      provides: "Archived debug script recovered from git history"
    - path: ".archive/main.css.bak"
      provides: "Archived CSS backup file"
    - path: ".archive/screenshot-key-fact-issue.mjs"
      provides: "Archived debug screenshot script"
    - path: ".gitignore"
      provides: "Git ignore rules for tool artifacts"
      contains: "node_modules"
  key_links:
    - from: ".gitignore"
      to: "git status"
      via: "git ignore rules"
      pattern: "node_modules|test-results|playwright-report"
---

<objective>
Recover deleted debug scripts from git history, create .archive/ directory with all archived artifacts, and create .gitignore to exclude tool artifacts from git tracking.

Purpose: Close 3 verification gaps from Phase 16 — debug scripts were deleted instead of archived (Gap 1), .archive/ folder never created (Gap 2), and .gitignore never created (Gap 3). Also archives css/main.css.bak and tests/screenshot-key-fact-issue.mjs per context decisions.

Output: .archive/ directory with recovered scripts + backup files, .gitignore file excluding tool artifacts
</objective>

<execution_context>
@/home/xhiris/.claude/get-shit-done/workflows/execute-plan.md
@/home/xhiris/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/16-phase12-remediation-verification/16-VERIFICATION.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Recover deleted debug scripts and create .archive/ directory</name>
  <files>.archive/verify-contrast.mjs, .archive/verify-dark-surfaces.mjs, .archive/visual-audit.mjs, .archive/main.css.bak, .archive/screenshot-key-fact-issue.mjs</files>
  <action>
1. Create the `.archive/` directory in the project root.

2. Recover 3 deleted debug scripts from git history (commit before 290a9c2):
   - `git show 290a9c2^:verify-contrast.mjs > .archive/verify-contrast.mjs`
   - `git show 290a9c2^:verify-dark-surfaces.mjs > .archive/verify-dark-surfaces.mjs`
   - `git show 290a9c2^:visual-audit.mjs > .archive/visual-audit.mjs`

3. Move `css/main.css.bak` to `.archive/main.css.bak` (use `mv`).

4. Move `tests/screenshot-key-fact-issue.mjs` to `.archive/screenshot-key-fact-issue.mjs` (use `mv`). If the `tests/` directory becomes empty after this, remove it.

5. Verify all 5 files exist in `.archive/` with non-zero size:
   - `.archive/verify-contrast.mjs`
   - `.archive/verify-dark-surfaces.mjs`
   - `.archive/visual-audit.mjs`
   - `.archive/main.css.bak`
   - `.archive/screenshot-key-fact-issue.mjs`
  </action>
  <verify>
Run: `ls -la .archive/` — should show 5 files, all with non-zero size.
Run: `test -f css/main.css.bak && echo "FAIL: bak still exists" || echo "OK: bak moved"`
Run: `test -f tests/screenshot-key-fact-issue.mjs && echo "FAIL: script still in tests/" || echo "OK: script moved"`
  </verify>
  <done>.archive/ directory exists with 5 files (3 recovered debug scripts + main.css.bak + screenshot-key-fact-issue.mjs), all non-zero size. Original locations are clean.</done>
</task>

<task type="auto">
  <name>Task 2: Create .gitignore for tool artifacts</name>
  <files>.gitignore</files>
  <action>
Create `.gitignore` in the project root with the following entries:

```
# Tool artifacts
node_modules/
test-results/
playwright-report/

# Lighthouse temporary directories
C:\\Users\\*/

# Package lock (not needed for static site)
package-lock.json

# OS files
.DS_Store
Thumbs.db
```

Critical constraints:
- MUST NOT ignore `.archive/` — this is tracked project content
- MUST NOT ignore `.planning/` — this is tracked project content
- MUST NOT ignore any HTML, CSS, or JS production files
- The Lighthouse temp directories appear in git status as Windows-style paths (e.g., `C:\\Users\\xhiri\\AppData\\Local\\lighthouse.22932301/`). The glob pattern `C:\\Users\\*/` should match these.

After creating the file, verify it works by running `git status` and confirming that node_modules/, test-results/, playwright-report/, and lighthouse temp dirs no longer appear as untracked.
  </action>
  <verify>
Run: `git status --short` — should NOT show node_modules/, test-results/, playwright-report/, or lighthouse temp dirs as untracked (??)
Run: `git status --short` — SHOULD still show .archive/ files (since they're new and untracked, pending commit)
Run: `grep -c 'node_modules' .gitignore` — should return 1
Run: `grep '.archive' .gitignore` — should return nothing (not ignored)
Run: `grep '.planning' .gitignore` — should return nothing (not ignored)
  </verify>
  <done>.gitignore exists with proper ignore rules. Tool artifacts (node_modules/, test-results/, playwright-report/, lighthouse temp dirs) are excluded from git status. .archive/ and .planning/ remain tracked.</done>
</task>

</tasks>

<verification>
1. `.archive/` directory exists with 5 archived files (3 recovered scripts, 1 CSS backup, 1 screenshot script)
2. `.gitignore` exists and excludes tool artifacts
3. `git status` is clean of node_modules/, test-results/, playwright-report/, and lighthouse temp paths
4. `.archive/` and `.planning/` are NOT ignored by .gitignore
5. No debug scripts remain in project root or tests/ directory
6. css/main.css.bak no longer exists (moved to .archive/)
</verification>

<success_criteria>
All 3 verification gaps from 16-VERIFICATION.md are closed:
- Gap 1: Debug scripts recovered from git history and archived to .archive/ (not deleted)
- Gap 2: .archive/ folder exists and is committed to git
- Gap 3: .gitignore excludes tool artifacts while preserving .archive/ and .planning/
</success_criteria>

<output>
After completion, create `.planning/phases/16-phase12-remediation-verification/16-04-SUMMARY.md`
</output>
